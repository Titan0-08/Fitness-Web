<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Motive Muscle - Fitness & Gym News</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    /* Hero section background with overlay */
    .hero-section {
      background-image: url('https://images.unsplash.com/photo-1641337221253-fdc7237f6b61?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
      background-size: cover;
      background-position: center;
      position: relative;
    }

    .hero-overlay {
      background-color: rgba(0, 0, 0, 0.6);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* Blog card styling */
    .blog-card {
      display: flex;
      flex-direction: column;
      background-color: #1a1a1a;
      border-radius: 0.5rem;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .blog-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3);
    }

    .card-image-container {
      position: relative;
    }

    .card-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .card-overlay {
      position: absolute;
      top: 0;
      left: 0;
      background-color: #f15a24;
      color: white;
      padding: 0.5rem 1rem;
      border-bottom-right-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: bold;
    }

    /* Loading spinner */
    .loading-spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, .3);
      border-radius: 50%;
      border-top-color: #f15a24;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body class="bg-black text-white">

  <!-- HERO -->
  <header class="hero-section min-h-[40vh] flex items-center justify-center p-4">
    <div class="hero-overlay"></div>
    <div class="relative z-10 text-center max-w-3xl px-4">
      <h1 class="text-5xl md:text-6xl font-extrabold mb-4">Fitness & Gym News</h1>
      <p class="text-xl md:text-2xl text-gray-300 mb-8">
        Your fitness tips, workouts, and more from certified trainers and experts.
      </p>
    </div>
  </header>

  <!-- BLOG POSTS -->
  <section class="py-16 px-4">
    <div id="loading-container" class="flex justify-center items-center py-12">
      <div class="loading-spinner"></div>
      <span class="ml-3">Loading blog posts...</span>
    </div>

    <div id="blogs-container"
      class="container mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 hidden">
      <!-- Blog posts load here -->
    </div>

    <div id="no-blogs-container" class="text-center py-12 hidden">
      <h3 class="text-2xl font-bold mb-4">No Blog Posts Yet</h3>
      <p class="text-gray-400">Check back later for new fitness content!</p>
    </div>

    <div id="error-container" class="text-center py-12 hidden">
      <h3 class="text-2xl font-bold mb-4 text-red-500">Error Loading Blog Posts</h3>
      <p id="error-message" class="text-gray-400">Please try again later.</p>
      <button id="retry-button" class="mt-4 bg-orange-500 text-white font-semibold py-2 px-6 rounded-full">
        Retry
      </button>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-gray-800 py-12 px-4">
    <div class="container mx-auto flex flex-col md:flex-row justify-between gap-8 text-sm text-gray-400">

      <!-- Left -->
            <div class="md:col-span-1">
                <div class="flex items-center space-x-2 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L2 22h20L12 2zm0 14L8 12h8l-4 4z"/>
                    </svg>
                    <span class="text-2xl font-bold text-white">FIT SMART</span>
                </div>
                <p class="text-sm">Your partner in fitness, providing expert workouts and nutrition plans to help you achieve your goals.</p>
            </div>

      <!-- Company -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Quick Links</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Home</a></li>
                    <li><a href="{{ url_for('aboutus') }}" class="hover:text-white transition-colors duration-200">About Us</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Services</a></li>
                    <li><a href="{{ url_for('blog') }}" class="hover:text-white transition-colors duration-200">Blog</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Contact</a></li>
                </ul>


      <!-- Newsletter -->
      <div class="flex-1 max-w-sm">
        <h4 class="text-white font-bold mb-4">Subscribe Newsletter</h4>
        <p class="mb-4">Get the latest gym news, tips & offers delivered to your inbox.</p>
        <form id="newsletter-form" class="relative">
          <input id="email-input" type="email" placeholder="Enter your email"
            class="w-full py-2 px-4 rounded-full bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500">
          <button type="submit" class="absolute right-0 top-0 h-full px-4 text-orange-500 hover:text-orange-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </button>
        </form>
        <div id="form-message" class="mt-2 text-sm text-center font-semibold"></div>
      </div>
    </div>

                <!-- Social Media -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Follow Us</h3>
                <div class="flex space-x-4">
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.013 4.85.071 1.17.067 1.805.249 2.227.425.42.175.83.398 1.25.817.418.42.64.83.815 1.25.176.42.358 1.056.425 2.228.058 1.265.07 1.645.07 4.849v.05c0 3.204-.013 3.585-.07 4.85-.067 1.17-.249 1.805-.425 2.227-.175.42-.398.83-.817 1.25-.42.418-.83.64-1.25.815-.42.176-1.056.358-2.228.425-1.265.058-1.645.07-4.85.07h-.05c-3.204 0-3.585-.013-4.85-.07-1.17-.067-1.805-.249-2.227-.425-.42-.175-.83-.398-1.25-.817-.418-.42-.64-.83-.815-1.25-.176-.42-.358-1.056-.425-2.228-.058-1.265-.07-1.645-.07-4.85v-.05c0-3.204.013-3.585.07-4.85.067-1.17.249-1.805.425-2.227.175-.42.398-.83.817-1.25.42-.418.83-.64 1.25-.815.42-.176 1.056-.358 2.228-.425 1.265-.058 1.645-.07 4.85-.07h.05zm0-2.163h-.05c-3.264 0-3.66.012-4.945.07-1.238.067-2.012.26-2.617.502-.6.242-1.144.6-1.688 1.145-.54.544-.903 1.088-1.145 1.688-.242.605-.435 1.379-.502 2.617-.058 1.285-.07 1.681-.07 4.945v.05c0 3.264.012 3.66.07 4.945.067 1.238.26 2.012.502 2.617.242.6.6 1.144 1.145 1.688.54.544 1.088.903 1.688 1.145.605.242 1.379.435 2.617.502 1.285.058 1.681.07 4.945.07h.05c3.264 0 3.66-.012 4.945-.07 1.238-.067 2.012-.26 2.617-.502.6-.242 1.144-.6 1.688-1.145.54-.544.903-1.088 1.145-1.688.242-.605.435-1.379.502-2.617.058-1.285.07-1.681.07-4.945v-.05c0-3.264-.012-3.66-.07-4.945-.067-1.238-.26-2.012-.502-2.617-.242-.6-.6-1.144-1.145-1.688-.54-.544-1.088-.903-1.688-1.145-.605-.242-1.379-.435-2.617-.502-1.285-.058-1.681-.07-4.945-.07z"></path>
                            <path d="M12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.27a3.135 3.135 0 110-6.27 3.135 3.135 0 010 6.27z"></path>
                            <circle cx="16.815" cy="7.185" r="1.205"></circle>
                        </svg>
                    </a>
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14 11.236a2.236 2.236 0 11-4.472 0 2.236 2.236 0 014.472 0zM12 1a11 11 0 1011 11A11 11 0 0012 1zm0 20a9 9 0 119-9 9 9 0 01-9 9zM12 9a3 3 0 103 3 3 3 0 00-3-3z"></path>
                        </svg>
                    </a>
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.013 4.85.071 1.17.067 1.805.249 2.227.425.42.175.83.398 1.25.817.418.42.64.83.815 1.25.176.42.358 1.056.425 2.228.058 1.265.07 1.645.07 4.849v.05c0 3.204-.013 3.585-.07 4.85-.067 1.17-.249 1.805-.425 2.227-.175.42-.398.83-.817 1.25-.42.418-.83.64-1.25.815-.42.176-1.056.358-2.228.425-1.265.058-1.645.07-4.85.07h-.05c-3.204 0-3.585-.013-4.85-.07-1.17-.067-1.805-.249-2.227-.425-.42-.175-.83-.398-1.25-.817-.418-.42-.64-.83-.815-1.25-.176-.42-.358-1.056-.425-2.228-.058-1.265-.07-1.645-.07-4.85v-.05c0-3.204.013-3.585.07-4.85.067-1.17.249-1.805.425-2.227.175-.42.398-.83.817-1.25.42-.418.83-.64 1.25-.815.42-.176 1.056-.358 2.228-.425 1.265-.058 1.645-.07 4.85-.07h.05zm0-2.163h-.05c-3.264 0-3.66.012-4.945.07-1.238.067-2.012.26-2.617.502-.6.242-1.144.6-1.688 1.145-.54.544-.903 1.088-1.145 1.688-.242.605-.435 1.379-.502 2.617-.058 1.285-.07 1.681-.07 4.945v.05c0 3.264.012 3.66.07 4.945.067 1.238.26 2.012.502 2.617.242.6.6 1.144 1.145 1.688.54.544 1.088.903 1.688 1.145.605.242 1.379.435 2.617.502 1.285.058 1.681.07 4.945.07h.05c3.264 0 3.66-.012 4.945-.07 1.238-.067 2.012-.26 2.617-.502.6-.242 1.144-.6 1.688-1.145.54-.544.903-1.088 1.145-1.688.242-.605.435-1.379-.502-2.617-.058-1.285-.07-1.681-.07-4.945v-.05c0-3.264-.012-3.66-.07-4.945-.067-1.238-.26-2.012-.502-2.617-.242-.6-.6-1.144-1.145-1.688-.54-.544-1.088-.903-1.688-1.145-.605-.242-1.379-.435-2.617-.502-1.285-.058-1.681-.07-4.945-.07z"></path>
                            <path d="M12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.27a3.135 3.135 0 110-6.27 3.135 3.135 0 010 6.27z"></path>
                            <circle cx="16.815" cy="7.185" r="1.205"></circle>
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <!-- Copyright & Bottom Text -->
        <div class="mt-8 pt-8 border-t border-gray-700 text-center text-sm">
            <p>&copy; 2024 FIT SMART. All Rights Reserved.</p>
        </div>
    
  </footer>

  <!-- JAVASCRIPT -->
  <script>
    const loadingContainer = document.getElementById('loading-container');
    const blogsContainer = document.getElementById('blogs-container');
    const noBlogsContainer = document.getElementById('no-blogs-container');
    const errorContainer = document.getElementById('error-container');
    const errorMessage = document.getElementById('error-message');
    const retryButton = document.getElementById('retry-button');

    // Fetch blogs
    async function fetchBlogs() {
      try {
        showLoading();
        const response = await fetch('/api/blogs');
        const data = await response.json();

        if (!response.ok) throw new Error(data.error || 'Failed to fetch blogs');

        if (data.success && data.blogs.length > 0) {
          displayBlogs(data.blogs);
        } else {
          showNoBlogs();
        }
      } catch (error) {
        console.error('Error fetching blogs:', error);
        showError(error.message || 'Error loading blog posts');
      }
    }

    // Display blogs
    function displayBlogs(blogs) {
      blogsContainer.innerHTML = '';
      blogs.forEach(blog => {
        const blogCard = document.createElement('div');
        blogCard.className = 'blog-card';

        const blogDate = blog.date || '18';
        const formattedDate = blog.createdAt
          ? new Date(blog.createdAt).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
          })
          : blogDate;

        blogCard.innerHTML = `
          <div class="card-image-container">
            <img src="${blog.image}" alt="${blog.title}" class="card-image">
            <div class="card-overlay">${blogDate}</div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2">${blog.title}</h3>
            <p class="text-sm text-gray-400 mb-2">${blog.shortDesc}</p>
            <a href="{{ url_for('blogdisplay') }}?id=${blog.id}" class="text-blue-500 hover:underline">
              Read More â†’
            </a>
            ${blog.author ? `<p class="text-xs text-gray-500 mt-3">By ${blog.author}</p>` : ''}
            ${formattedDate ? `<p class="text-xs text-gray-500">Published on ${formattedDate}</p>` : ''}
          </div>
        `;

        blogsContainer.appendChild(blogCard);
      });

      // Read More toggle
      document.querySelectorAll('.read-more-btn').forEach(button => {
        button.addEventListener('click', function () {
          const target = document.getElementById(this.dataset.target);
          if (target.classList.contains('hidden')) {
            target.classList.remove('hidden');
            this.textContent = 'Read Less';
          } else {
            target.classList.add('hidden');
            this.textContent = 'Read More';
          }
        });
      });

      hideLoading();
      blogsContainer.classList.remove('hidden');
      noBlogsContainer.classList.add('hidden');
      errorContainer.classList.add('hidden');
    }

    function showLoading() {
      loadingContainer.classList.remove('hidden');
      blogsContainer.classList.add('hidden');
      noBlogsContainer.classList.add('hidden');
      errorContainer.classList.add('hidden');
    }

    function hideLoading() {
      loadingContainer.classList.add('hidden');
    }

    function showNoBlogs() {
      hideLoading();
      blogsContainer.classList.add('hidden');
      noBlogsContainer.classList.remove('hidden');
      errorContainer.classList.add('hidden');
    }

    function showError(message) {
      hideLoading();
      blogsContainer.classList.add('hidden');
      noBlogsContainer.classList.add('hidden');
      errorContainer.classList.remove('hidden');
      errorMessage.textContent = message;
    }

    // Newsletter form
    document.getElementById('newsletter-form').addEventListener('submit', function (e) {
      e.preventDefault();
      const emailInput = document.getElementById('email-input');
      const email = emailInput.value;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (emailRegex.test(email)) {
        document.getElementById('form-message').textContent = 'Thank you for subscribing!';
        document.getElementById('form-message').classList.add('text-green-500');
        emailInput.value = '';
      } else {
        document.getElementById('form-message').textContent = 'Please enter a valid email.';
        document.getElementById('form-message').classList.add('text-red-500');
      }
    });

    retryButton.addEventListener('click', fetchBlogs);

    // Init
    document.addEventListener('DOMContentLoaded', fetchBlogs);
  </script>
</body>

</html>
