<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIT SMART</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .icon { width: 24px; height: 24px; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .bg-slider { background-size: cover; background-position: center; transition: background-image 1s ease-in-out; }

        /* --- Added styles from Exercises page (kept as-is) --- */
        /* Note: these are preserved exactly from your exercises page */
        .card-hover-effect {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .card-hover-effect:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        /* end exercises styles */

        /* Nutrition page base background (kept) */
        .nutrition-bg {
            background-color: #1a1a1a;
        }
    </style>

    <!-- Extra fonts / preconnect from exercises page (kept) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-black text-white">

    <!-- Header -->
    <header class="absolute top-0 left-0 w-full z-10 py-6 px-6 lg:px-16">
        <nav class="flex justify-between items-center">
            <!-- Logo -->
            <div class="flex items-center space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L2 22h20L12 2zm0 14L8 12h8l-4 4z"/>
                </svg>
                <span class="text-3xl font-bold">FIT SMART</span>
            </div>
            <!-- Nav Links (hidden on mobile) -->
            <ul class="hidden lg:flex items-center space-x-8 font-medium">
                <li><a href="#" class="hover:text-red-500">HOME</a></li>
                <li><a href="{{ url_for('aboutus') }}" class="hover:text-red-500">ABOUT</a></li>
                <li><a href="/services" class="hover:text-red-500">SERVICES</a></li>
                <li><a href="{{ url_for('blog') }}" class="hover:text-red-500">BLOG</a></li>
                <li><a href="#contact" class="hover:text-red-500">CONTACT</a></li>
                <li><a href="{{ url_for('community') }}" class="hover:text-red-500">COMMUNITY</a></li>
            </ul>
            <!-- Icons -->
            <div class="flex items-center space-x-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon stroke-white cursor-pointer" viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                
                <svg id="user-icon" xmlns="http://www.w3.org/2000/svg" class="icon stroke-white cursor-pointer" viewBox="0 0 24 24">
                    <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </div>
        </nav>
    </header>

    <!-- Hero -->
    <main id="hero-section" class="relative min-h-screen bg-slider flex justify-center items-center px-4">
        <div class="absolute inset-0 bg-black opacity-60"></div>
        <div class="relative z-10 text-center max-w-2xl">
            <p class="text-red-500 uppercase tracking-widest mb-4">READY TO CHANGE YOUR PHYSIQUE</p>
            <h1 class="text-5xl md:text-6xl font-extrabold leading-tight mb-6">
                <span>KEEP BODY</span><br><span>FIT & STRONG</span>
            </h1>
            <p class="text-gray-200 mb-8">Ready to change your physique, but can't work out in the gym?</p>
            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <!-- JOIN WITH US button -->
                <a href="{{ url_for('menu') }}" 
                   class="bg-red-500 px-8 py-4 rounded-full font-semibold hover:bg-red-600 inline-block text-center">
                    JOIN WITH US
                </a>
                <!-- OUR SERVICES button -->
                <a href="{{ url_for('services') }}" 
                   class="border border-white px-8 py-4 rounded-full font-semibold hover:bg-white hover:text-black inline-block text-center">
                    OUR SERVICES
                </a>

                <!-- Alter button -->
                <a href="{{ url_for('alter') }}" 
                   class="bg-red-500 px-8 py-4 rounded-full font-semibold hover:bg-red-600 inline-block text-center">
                    ALTER YOUR's
                </a>

                
            </div>
        </div>
    </main>

<div id="side-panel" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-gray-900 z-50 transform translate-x-full transition-transform duration-300">
    <div class="p-8">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold">User Panel</h2>
            <button id="close-panel-btn" class="text-gray-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>

        <ul class="space-y-4 mt-8">
            <li><a href="/profile" class="flex items-center p-3 rounded-md hover:bg-gray-800">
                <svg class="h-5 w-5 mr-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10 9a3 3 0 100-6 3 3 0 000 6zM3 18a7 7 0 1114 0H3z"/></svg> Profile
            </a></li>

            <ul class="space-y-4 mt-8">
            <li><a href="/recent" class="flex items-center p-3 rounded-md hover:bg-gray-800">
                <svg class="h-5 w-5 mr-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10 9a3 3 0 100-6 3 3 0 000 6zM3 18a7 7 0 1114 0H3z"/></svg> Recent Views
            </a></li>



            <li>
                <button id="logout-btn" class="flex items-center w-full p-3 rounded-md hover:bg-gray-800 text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.707a1 1 0 001.414 0l4-4a1 1 0 000-1.414l-4-4a1 1 0 00-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-2.293 2.293a1 1 0 000 1.414z" clip-rule="evenodd" />
                    </svg> Logout
                </button>
            </li>
        </ul>
    </div>
</div>

    <!-- Backdrop -->
    <div id="backdrop" class="fixed inset-0 bg-black opacity-0 z-40 transition-opacity pointer-events-none"></div>

    <!-- Custom Message Box -->
    <div id="message-box" class="fixed inset-0 flex items-center justify-center z-[100] hidden">
        <div class="bg-gray-800 text-white p-6 rounded-lg shadow-lg max-w-sm w-full text-center border border-gray-700">
            <p id="message-text" class="text-lg mb-4"></p>
            <button id="close-message-btn" class="bg-red-500 px-6 py-2 rounded-md font-semibold hover:bg-red-600 transition-colors">OK</button>
        </div>
    </div>

    <!-- ==========================
        EXERCISES SECTION (merged below the home content)
        ========================== -->
    <section id="exercises-section" class="bg-black text-white py-16">
        <!-- Inserted content from your Exercises page (kept intact) -->
        <div class="bg-gray-800 rounded-3xl shadow-xl max-w-6xl mx-auto p-12 relative">
            <div class="text-center mb-12">
                <h1 id="main-heading" class="text-4xl font-bold text-gray-200">
                    Exercises By <span class="text-orange-400">Muscle Group</span>
                </h1>
                <p id="main-subheading" class="mt-4 text-gray-400 max-w-2xl mx-auto">
                    Explore exercises by muscle group, helping you target each workout effectively, whether you're a novice or a pro.
                </p>
            </div>

            <!-- Carousel View -->
            <div id="carousel-view">
                <!-- "See More" option -->
                <div class="flex justify-end mb-4">
                    <button id="see-more-btn" class="text-orange-400 font-semibold text-sm hover:underline focus:outline-none focus:ring-2 focus:ring-orange-500 rounded-md">
                        See More
                    </button>
                </div>

                <!-- Navigation Arrows -->
                <button id="left-arrow" class="absolute left-4 top-1/2 -translate-y-1/2 bg-gray-700 rounded-full p-2 shadow-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>

                <button id="right-arrow" class="absolute right-4 top-1/2 -translate-y-1/2 bg-gray-700 rounded-full p-2 shadow-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>

                <!-- Muscle Group Cards Container -->
                <div id="cards-container" class="flex flex-col md:flex-row justify-center items-center gap-8">
                    <!-- Cards will be dynamically inserted here by JavaScript -->
                </div>
            </div>

            <!-- Grid View -->
            <div id="grid-view" class="hidden">
                <div class="flex justify-start mb-4">
                    <button id="back-btn-grid" class="text-orange-400 font-semibold text-sm hover:underline focus:outline-none focus:ring-2 focus:ring-orange-500 rounded-md">
                        Less
                    </button>
                </div>
                <div id="grid-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <!-- All cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Exercise Details View -->
            <div id="exercise-view" class="hidden">
                <div class="flex justify-start mb-4">
                    <button id="back-btn-exercises" class="text-orange-400 font-semibold text-sm hover:underline focus:outline-none focus:ring-2 focus:ring-orange-500 rounded-md">
                        Back
                    </button>
                </div>
                <div id="exercise-list" class="space-y-6">
                    <!-- Exercise cards will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </section>

    <!-- ==========================
        NUTRITION HERO SECTION (appears after exercises on scroll)
        ========================== -->
    <section id="nutrition-hero" class="relative min-h-screen bg-slider flex justify-center items-center px-4 nutrition-bg">
        <div class="absolute inset-0 bg-black opacity-60"></div>
        <div class="relative z-10 text-center max-w-2xl">
            <p class="text-orange-400 uppercase tracking-widest mb-4">FUEL YOUR BODY, FUEL YOUR LIFE</p>
            <h1 class="text-5xl md:text-6xl font-extrabold leading-tight mb-6">
                <span>EAT SMART</span><br><span>LIVE WELL</span>
            </h1>
            <p class="text-gray-200 mb-8">Discover a world of delicious and nutritious recipes designed to keep you healthy and energized.</p>
            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <a href="{{ url_for('recipes') }}" class="bg-orange-400 px-8 py-4 rounded-full font-semibold hover:bg-orange-500 inline-block text-center text-black">LET'S COOK</a>
            </div>
        </div>
    </section>

    <!-- ==========================
        ABOUT US SECTION (NEW)
        ========================== -->
    <section id="about-us-section" class="bg-black text-white py-16">
        <div class="max-w-6xl mx-auto px-4 md:px-8 lg:px-12">
            <div class="text-center mb-12">
                <p class="text-red-500 uppercase tracking-widest mb-4">OUR STORY</p>
                <h2 class="text-4xl md:text-5xl font-extrabold leading-tight">
                    ABOUT <span class="text-red-500">US</span>
                </h2>
            </div>
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <img src="https://images.unsplash.com/photo-1649884213944-52c27f2bbcc9?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzR8fGZpdG5lc3MlMjBhYm91dCUyMHVzfGVufDB8MHwwfHx8MA%3D%3D" 
                         alt="About us image of people working out" 
                         class="w-full h-auto rounded-xl shadow-lg">
                </div>
                <div class="md:w-1/2">
                    <p class="text-gray-300 text-lg mb-6">
                        At FIT SMART, we believe that fitness is a journey, not a destination. Our mission is to provide you with the tools and motivation you need to lead a healthier, more active life, all from the comfort of your home. We offer a comprehensive platform that combines effective home workouts with smart nutrition plans, making it simple to achieve your fitness goals.
                    </p>
                    <p class="text-gray-300 text-lg mb-8">
                        Our expert-designed exercise programs and curated recipes are tailored for all levels, from beginners to advanced athletes. We're committed to building a community that supports and inspires one another. Join us and discover a smarter way to stay fit.
                    </p>
                    <a href="{{ url_for('menu') }}"
                       class="bg-red-500 px-8 py-4 rounded-full font-semibold hover:bg-red-600 inline-block text-center transition-colors">
                        JOIN WITH US
                    </a>
                </div>
            </div>
        </div>
    </section>

     <!-- ==========================
        FOOTER (NEW)
        ========================== -->
    <footer id="contact" class="bg-gray-900 text-gray-400 py-12 px-4">
        <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8">
            <!-- Brand Info -->
            <div class="md:col-span-1">
                <div class="flex items-center space-x-2 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L2 22h20L12 2zm0 14L8 12h8l-4 4z"/>
                    </svg>
                    <span class="text-2xl font-bold text-white">FIT SMART</span>
                </div>
                <p class="text-sm">Your partner in fitness, providing expert workouts and nutrition plans to help you achieve your goals.</p>
            </div>

            <!-- Quick Links -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Quick Links</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Home</a></li>
                    <li><a href="{{ url_for('aboutus') }}" class="hover:text-white transition-colors duration-200">About Us</a></li>
                    <li><a href="/services" class="hover:text-white transition-colors duration-200">Services</a></li>
                    <li><a href="{{ url_for('blog') }}" class="hover:text-white transition-colors duration-200">Blog</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Contact</a></li>
                </ul>
            </div>

            <!-- Services -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Services</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Personal Training</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Nutrition Plans</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Group Classes</a></li>
                    <li><a href="#" class="hover:text-white transition-colors duration-200">Online Programs</a></li>
                </ul>
            </div>

            <!-- Social Media -->
            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Follow Us</h3>
                <div class="flex space-x-4">
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.013 4.85.071 1.17.067 1.805.249 2.227.425.42.175.83.398 1.25.817.418.42.64.83.815 1.25.176.42.358 1.056.425 2.228.058 1.265.07 1.645.07 4.849v.05c0 3.204-.013 3.585-.07 4.85-.067 1.17-.249 1.805-.425 2.227-.175.42-.398.83-.817 1.25-.42.418-.83.64-1.25.815-.42.176-1.056.358-2.228.425-1.265.058-1.645.07-4.85.07h-.05c-3.204 0-3.585-.013-4.85-.07-1.17-.067-1.805-.249-2.227-.425-.42-.175-.83-.398-1.25-.817-.418-.42-.64-.83-.815-1.25-.176-.42-.358-1.056-.425-2.228-.058-1.265-.07-1.645-.07-4.85v-.05c0-3.204.013-3.585.07-4.85.067-1.17.249-1.805.425-2.227.175-.42.398-.83.817-1.25.42-.418.83-.64 1.25-.815.42-.176 1.056-.358 2.228-.425 1.265-.058 1.645-.07 4.85-.07h.05zm0-2.163h-.05c-3.264 0-3.66.012-4.945.07-1.238.067-2.012.26-2.617.502-.6.242-1.144.6-1.688 1.145-.54.544-.903 1.088-1.145 1.688-.242.605-.435 1.379-.502 2.617-.058 1.285-.07 1.681-.07 4.945v.05c0 3.264.012 3.66.07 4.945.067 1.238.26 2.012.502 2.617.242.6.6 1.144 1.145 1.688.54.544 1.088.903 1.688 1.145.605.242 1.379.435 2.617.502 1.285.058 1.681.07 4.945.07h.05c3.264 0 3.66-.012 4.945-.07 1.238-.067 2.012-.26 2.617-.502.6-.242 1.144-.6 1.688-1.145.54-.544.903-1.088 1.145-1.688.242-.605.435-1.379.502-2.617.058-1.285.07-1.681.07-4.945v-.05c0-3.264-.012-3.66-.07-4.945-.067-1.238-.26-2.012-.502-2.617-.242-.6-.6-1.144-1.145-1.688-.54-.544-1.088-.903-1.688-1.145-.605-.242-1.379-.435-2.617-.502-1.285-.058-1.681-.07-4.945-.07z"></path>
                            <path d="M12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.27a3.135 3.135 0 110-6.27 3.135 3.135 0 010 6.27z"></path>
                            <circle cx="16.815" cy="7.185" r="1.205"></circle>
                        </svg>
                    </a>
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14 11.236a2.236 2.236 0 11-4.472 0 2.236 2.236 0 014.472 0zM12 1a11 11 0 1011 11A11 11 0 0012 1zm0 20a9 9 0 119-9 9 9 0 01-9 9zM12 9a3 3 0 103 3 3 3 0 00-3-3z"></path>
                        </svg>
                    </a>
                    <a href="#" class="hover:text-red-500 transition-colors duration-200">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.013 4.85.071 1.17.067 1.805.249 2.227.425.42.175.83.398 1.25.817.418.42.64.83.815 1.25.176.42.358 1.056.425 2.228.058 1.265.07 1.645.07 4.849v.05c0 3.204-.013 3.585-.07 4.85-.067 1.17-.249 1.805-.425 2.227-.175.42-.398.83-.817 1.25-.42.418-.83.64-1.25.815-.42.176-1.056.358-2.228.425-1.265.058-1.645.07-4.85.07h-.05c-3.204 0-3.585-.013-4.85-.07-1.17-.067-1.805-.249-2.227-.425-.42-.175-.83-.398-1.25-.817-.418-.42-.64-.83-.815-1.25-.176-.42-.358-1.056-.425-2.228-.058-1.265-.07-1.645-.07-4.85v-.05c0-3.204.013-3.585.07-4.85.067-1.17.249-1.805.425-2.227.175-.42.398-.83.817-1.25.42-.418.83-.64 1.25-.815.42-.176 1.056-.358 2.228-.425 1.265-.058 1.645-.07 4.85-.07h.05zm0-2.163h-.05c-3.264 0-3.66.012-4.945.07-1.238.067-2.012.26-2.617.502-.6.242-1.144.6-1.688 1.145-.54.544-.903 1.088-1.145 1.688-.242.605-.435 1.379-.502 2.617-.058 1.285-.07 1.681-.07 4.945v.05c0 3.264.012 3.66.07 4.945.067 1.238.26 2.012.502 2.617.242.6.6 1.144 1.145 1.688.54.544 1.088.903 1.688 1.145.605.242 1.379.435 2.617.502 1.285.058 1.681.07 4.945.07h.05c3.264 0 3.66-.012 4.945-.07 1.238-.067 2.012-.26 2.617-.502.6-.242 1.144-.6 1.688-1.145.54-.544.903-1.088 1.145-1.688.242-.605.435-1.379-.502-2.617-.058-1.285-.07-1.681-.07-4.945v-.05c0-3.264-.012-3.66-.07-4.945-.067-1.238-.26-2.012-.502-2.617-.242-.6-.6-1.144-1.145-1.688-.54-.544-1.088-.903-1.688-1.145-.605-.242-1.379-.435-2.617-.502-1.285-.058-1.681-.07-4.945-.07z"></path>
                            <path d="M12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.27a3.135 3.135 0 110-6.27 3.135 3.135 0 010 6.27z"></path>
                            <circle cx="16.815" cy="7.185" r="1.205"></circle>
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <!-- Copyright & Bottom Text -->
        <div class="mt-8 pt-8 border-t border-gray-700 text-center text-sm">
            <p>&copy; 2024 FIT SMART. All Rights Reserved.</p>
        </div>
    </footer>   
    

    <!-- ==========================
        SCRIPTS (home script first, exercises script after, nutrition script last)
        ========================== -->
    <script>
        const heroSection = document.getElementById('hero-section');
        const userIcon = document.getElementById('user-icon');
        const sidePanel = document.getElementById('side-panel');
        const closePanelBtn = document.getElementById('close-panel-btn');
        const backdrop = document.getElementById('backdrop');
        const logoutBtn = document.getElementById('logout-btn');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');
        const closeMessageBtn = document.getElementById('close-message-btn');

        // Hero images for the main (home) hero
        const heroImages = [
            'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1599058917212-d750089bc07e?q=80&w=1169&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
        ];
        let currentImageIndex = 0;

        function updateBackground() {
            if (heroSection) heroSection.style.backgroundImage = `url('${heroImages[currentImageIndex]}')`;
        }

        // Automatic sliding every 5 seconds for home hero
        setInterval(() => {
            currentImageIndex = (currentImageIndex + 1) % heroImages.length;
            updateBackground();
        }, 5000);

        // Open side panel
        function openPanel() {
            sidePanel.classList.remove('translate-x-full');
            backdrop.classList.remove('opacity-0', 'pointer-events-none');
            backdrop.classList.add('opacity-60');
        }

        // Close side panel
        function closePanel() {
            sidePanel.classList.add('translate-x-full');
            backdrop.classList.add('opacity-0', 'pointer-events-none');
            backdrop.classList.remove('opacity-60');
        }

        // Show message box
        function showMessageBox(message) {
            messageText.textContent = message;
            messageBox.classList.remove('hidden');
        }

        // Event listeners
        userIcon.addEventListener('click', openPanel);
        closePanelBtn.addEventListener('click', closePanel);
        backdrop.addEventListener('click', closePanel);
        closeMessageBtn.addEventListener('click', () => {
            messageBox.classList.add('hidden');
        });

        // Logout button
        logoutBtn.addEventListener('click', () => {
            window.location.href = "/logout";
        });

        // Initialize first background without clobbering other onload handlers
        window.addEventListener('load', updateBackground);
    </script>

    <!-- Exercises page script (inserted as-is) -->
    <script>
        const muscleGroups = [
            { 
                name: "Abs", 
                image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/abs_0.jpg", 
                exercises: [
                    { name: "Plank", description: "Hold a push-up position with your body in a straight line.", video: "https://www.shutterstock.com/shutterstock/videos/3797427899/preview/stock-footage-video-of-senior-man-doing-plank-exercise-on-fitness-mat-at-home.webm" },
                    { name: "Crunches", description: "Lie on your back with knees bent and lift your upper body towards your knees.", video: "https://www.shutterstock.com/shutterstock/videos/3816817577/preview/stock-footage-outdoor-man-and-workout-with-crunches-for-fitness-endurance-or-strengthen-core-muscle-in-home.webm" }
                ]
            },
            { 
                name: "Biceps", 
                image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/biceps_0.jpg",
                exercises: [
                    { name: "Dumbbell Curls", description: "Lift dumbbells towards your shoulders, contracting the biceps.", video: "https://www.shutterstock.com/shutterstock/videos/1106081959/preview/stock-footage-sporty-man-workout-at-indoor-gym-bearded-male-lifting-up-a-hammer-curl-weight-exercise-with.webm" },
                    { name: "Hammer Curls", description: "Similar to dumbbell curls, but with palms facing each other.", video: "https://www.shutterstock.com/shutterstock/videos/3710163299/preview/stock-footage-dumbbell-hammer-curl-forearms-exercise-workout-animation-video-training-guide.webm" }
                ]
            },
            { 
                name: "Chest", 
                image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/chest_0.jpg",
                exercises: [
                    { name: "Push-ups", description: "Lower your body to the floor and push back up.", video: "https://www.youtube.com/embed/IODxDxX7oi4" },
                    { name: "Bench Press", description: "Lie on a bench and press a barbell or dumbbells upwards.", video: "https://www.youtube.com/embed/rT7Dgntw_9M" }
                ]
            },
            { 
                name: "Shoulders", 
                image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/shoulders_0.jpg",
                exercises: [
                    { name: "Overhead Press", description: "Press a barbell or dumbbells overhead from shoulder level.", video: "https://www.youtube.com/embed/2y-b2_rW-5g" },
                    { name: "Lateral Raises", description: "Raise dumbbells to the side until your arms are parallel to the floor.", video: "https://www.youtube.com/embed/3VcKaXfPz14" }
                ]
            },
            { 
                name: "Legs", 
                image: "https://i.pinimg.com/1200x/47/bd/45/47bd452b1cf4e9f8fe7d29ff12b3e916.jpg",
                exercises: [
                    { name: "Squats", description: "Lower your hips from a standing position and then stand back up.", video: "https://www.youtube.com/embed/tK-l5m1HwR0" },
                    { name: "Lunges", description: "Step forward with one leg and lower your hips until both knees are bent at a 90-degree angle.", video: "https://www.youtube.com/embed/Q0O_y2uR3-U" }
                ]
            },
            { name: "Adductor", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/adductors.jpg" },
            { name: "Abductor", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/abductors.jpg" },
            { name: "Calves", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/calves_0.jpg" },
            { name: "Forearms", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/forearms_0.jpg" },
            { name: "Lats", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/lats_0.jpg" },
            { name: "Glutes", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/glutes_0.jpg" },
            { name: "Hamstrings", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/hamstrings_0.jpg" },
            { name: "Plamer Fascia", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/palmarfacsia.jpg" },
            { name: "Traps", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/traps_0.jpg" },
            { name: "Lower Back", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/lowerback.jpg" },
            { name: "Neck", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/neck.jpg" },
            { name: "Obliques", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/obliques.jpg" },
            { name: "Quads", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/quads_1.jpg" },
            { name: "Hip Flexors", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/hipflexors.jpg" },
            { name: "Triceps", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/triceps_0.jpg" },
            { name: "Upper Back", image: "https://cdn.muscleandstrength.com/sites/default/files/taxonomy/image/videos/upperback.jpg" }
        ];

        let currentIndex = 0;
        
        const carouselView = document.getElementById('carousel-view');
        const gridView = document.getElementById('grid-view');
        const exerciseView = document.getElementById('exercise-view');
        
        const cardsContainer = document.getElementById('cards-container');
        const gridContainer = document.getElementById('grid-container');
        const exerciseList = document.getElementById('exercise-list');

        const mainHeading = document.getElementById('main-heading');
        const mainSubheading = document.getElementById('main-subheading');
        
        const rightArrow = document.getElementById('right-arrow');
        const leftArrow = document.getElementById('left-arrow');
        const seeMoreBtn = document.getElementById('see-more-btn');
        const backBtnGrid = document.getElementById('back-btn-grid');
        const backBtnExercises = document.getElementById('back-btn-exercises');

        function createCardHtml(data, type) {
            const size = type === 'exercise' ? 'h-48' : (data.isLarge ? 'h-64' : 'h-48');
            const textSize = type === 'exercise' ? 'text-lg' : (data.isLarge ? 'text-xl' : 'text-lg');
            return `
                <div class="w-full bg-gray-700 rounded-2xl shadow-md p-6 text-center card-hover-effect cursor-pointer" onclick="showExercises('${data.name}')">
                    <img src="${data.image}" alt="${data.name} Muscle" class="mx-auto ${size} w-auto object-contain">
                    <h3 class="mt-4 ${textSize} font-semibold text-gray-200">${data.name}</h3>
                </div>
            `;
        }

        function createExerciseCard(exercise) {
            return `
                <div class="bg-gray-700 rounded-2xl shadow-md p-6">
                    <h3 class="text-2xl font-bold text-gray-200">${exercise.name}</h3>
                    <p class="mt-2 text-gray-400">${exercise.description}</p>
                    ${exercise.video ? `<div class="mt-4 aspect-w-16 aspect-h-9">
                        <iframe class="w-full h-full rounded-md" src="${exercise.video}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>` : ''}
                </div>
            `;
        }
        
        function renderCarouselCards() {
            cardsContainer.innerHTML = '';
            const numCardsToShow = Math.min(3, muscleGroups.length - currentIndex);
            for (let i = 0; i < numCardsToShow; i++) {
                const muscle = muscleGroups[currentIndex + i];
                cardsContainer.innerHTML += createCardHtml({ ...muscle, isLarge: true }, 'muscle');
            }
        }

        function renderGridCards() {
            gridContainer.innerHTML = '';
            muscleGroups.forEach(muscle => {
                gridContainer.innerHTML += createCardHtml({ ...muscle, isLarge: false }, 'muscle');
            });
        }

        function showExercises(muscleName) {
            const muscle = muscleGroups.find(m => m.name === muscleName);
            if (!muscle || !muscle.exercises) {
                // If no exercises, just navigate back to the main view
                toggleView('carousel');
                return;
            }

            exerciseList.innerHTML = '';
            muscle.exercises.forEach(exercise => {
                exerciseList.innerHTML += createExerciseCard(exercise);
            });

            mainHeading.innerHTML = `${muscle.name} <span class="text-orange-400">Exercises</span>`;
            mainSubheading.textContent = `Here are some exercises to target your ${muscle.name.toLowerCase()} muscles.`;

            toggleView('exercise');
        }

        function toggleView(viewName) {
            carouselView.classList.add('hidden');
            gridView.classList.add('hidden');
            exerciseView.classList.add('hidden');

            if (viewName === 'carousel') {
                carouselView.classList.remove('hidden');
                renderCarouselCards();
                mainHeading.innerHTML = `Exercises By <span class="text-orange-400">Muscle Group</span>`;
                mainSubheading.textContent = `Explore exercises by muscle group, helping you target each workout effectively, whether you're a novice or a pro.`;
            } else if (viewName === 'grid') {
                gridView.classList.remove('hidden');
                renderGridCards();
            } else if (viewName === 'exercise') {
                exerciseView.classList.remove('hidden');
            }
        }
        
        // This function needs to be global to be called from the `onclick` attribute.
        window.showExercises = showExercises;

        rightArrow.addEventListener('click', () => {
            if (currentIndex < muscleGroups.length - 3) {
                currentIndex++;
            } else {
                currentIndex = 0; // Loop back to the beginning
            }
            renderCarouselCards();
        });

        leftArrow.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = muscleGroups.length - 3; // Loop to the end
            }
            renderCarouselCards();
        });

        seeMoreBtn.addEventListener('click', () => {
            toggleView('grid');
        });

        backBtnGrid.addEventListener('click', () => {
            toggleView('carousel');
        });

        backBtnExercises.addEventListener('click', () => {
            // Determine the previous view (carousel or grid)
            // For simplicity, we can always go back to carousel view
            toggleView('carousel');
        });

        // Initial render
        renderCarouselCards();
    </script>

    <!-- Nutrition hero script -->
    <script>
        const nutritionHero = document.getElementById('nutrition-hero');
        const nutritionImages = [
            'https://images.unsplash.com/photo-1490645935967-10de6ba17061?q=80&w=1153&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://plus.unsplash.com/premium_photo-1663852706020-42dcb66d29f6?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1707529172036-fb5ffbc70bf8?q=80&w=1331&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1642339800099-921df1a0a958?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
        ];
        let currentNutritionIndex = 0;

        function updateNutritionBackground() {
            if (nutritionHero) nutritionHero.style.backgroundImage = `url('${nutritionImages[currentNutritionIndex]}')`;
        }

        setInterval(() => {
            currentNutritionIndex = (currentNutritionIndex + 1) % nutritionImages.length;
            updateNutritionBackground();
        }, 5000);

        window.addEventListener('load', updateNutritionBackground);
    </script>

</body>
</html>
